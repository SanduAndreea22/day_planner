{% extends "base.html" %}
{% block title %}üí≠ Mood ¬∑ Emotional Planner{% endblock %}

{% block content %}
<div class="mood-card">

    <div class="mood-header">
        <h2 class="title-gradient">üí≠ Mood</h2>
        <div class="mood-period muted">{{ month_name }} {{ year }}</div>
        <div class="mood-nav">
            <a href="?month={{ month|add:'-1' }}&year={{ year }}">‚Üê Previous month</a>
            <a href="?month={{ month|add:'1' }}&year={{ year }}">Next month ‚Üí</a>
        </div>
    </div>

    <p class="mood-subtitle">
        Observe gently, without judgment.<br>
        <em>Just looking is already a good start.</em>
    </p>

    {% if most_common_mood %}
    <div class="mood-summary">
        Most logged days were
        <strong>
            {% if most_common_mood == "very_bad" %}very difficult
            {% elif most_common_mood == "bad" %}hard
            {% elif most_common_mood == "neutral" %}neutral
            {% elif most_common_mood == "good" %}good
            {% elif most_common_mood == "very_good" %}very good
            {% endif %}
        </strong>.
    </div>
    {% endif %}

    <div class="mood-list">
        {% for day in days %}
        <a href="{% url 'day_detail' day.date.year day.date.month day.date.day %}"
           class="mood-row mood-{{ day.mood|default:'none' }}"
           title="View full day">

            <span class="mood-date">{{ day.date|date:"d M" }}</span>

            <span class="mood-emoji">
                {% if day.mood == "very_bad" %}üòû
                {% elif day.mood == "bad" %}üòï
                {% elif day.mood == "neutral" %}üòê
                {% elif day.mood == "good" %}üôÇ
                {% elif day.mood == "very_good" %}üòÑ
                {% else %}üåô
                {% endif %}
            </span>

            <span class="mood-text">
                {% if day.mood == "very_bad" %}Very difficult
                {% elif day.mood == "bad" %}Hard
                {% elif day.mood == "neutral" %}Neutral
                {% elif day.mood == "good" %}Good
                {% elif day.mood == "very_good" %}Very good
                {% else %}No mood notes
                {% endif %}
            </span>

        </a>
        {% empty %}
            <p class="muted">No days logged this period.</p>
        {% endfor %}
    </div>

    <p class="mood-footer">üåø Observing is already a first step.</p>

    <div class="mood-actions">
        <a href="{% url 'calendar' %}" class="button primary">üìÖ Calendar</a>
        <a href="{% url 'monthly_overview' %}?month={{ month }}&year={{ year }}" class="button">‚Üê Monthly Overview</a>
    </div>

</div>

<!-- ================= STYLE ================= -->
<style>
:root {
    --bg-card: #ffffff;
    --text-primary: #111827;
    --text-muted: #6b7280;
    --primary: #7dd3a7;
    --secondary: #a5b4fc;
    --mood-very_bad: #f87171;
    --mood-bad: #fbbf24;
    --mood-neutral: #9ca3af;
    --mood-good: #34d399;
    --mood-very_good: #a78bfa;
}

/* CARD PRINCIPAL */
.mood-card {
    max-width: 720px;
    margin: 2rem auto;
    padding: 2rem;
    border-radius: 24px;
    background: var(--bg-card);
    box-shadow: 0 15px 35px rgba(0,0,0,0.12);
}

/* HEADER */
.mood-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 1rem;
}
.mood-header h2 {
    font-size: 1.8rem;
    font-weight: 700;
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin: 0.2rem 0;
}
.mood-period {
    font-size: 0.9rem;
    color: var(--text-muted);
}
.mood-nav a {
    text-decoration: none;
    color: var(--primary);
    margin: 0 0.5rem;
    font-weight: 600;
    transition: color 0.3s ease;
}
.mood-nav a:hover { color: var(--secondary); }

/* SUBTITLE */
.mood-subtitle {
    text-align: center;
    margin: 1rem 0;
    color: var(--text-muted);
}

/* SUMMARY */
.mood-summary {
    text-align: center;
    font-size: 1.1rem;
    margin-bottom: 1rem;
    font-weight: 600;
}

/* LISTA ZILELOR */
.mood-list {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}
.mood-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.6rem 1rem;
    border-radius: 12px;
    background: rgba(229, 231, 235, 0.6);
    text-decoration: none;
    color: var(--text-primary);
    transition: background 0.3s ease;
}
.mood-row:hover { background: rgba(229, 231, 235, 0.9); }

.mood-row .mood-date { font-weight: 600; width: 80px; }
.mood-row .mood-emoji { font-size: 1.2rem; width: 40px; text-align: center; }
.mood-row .mood-text { flex: 1; padding-left: 0.5rem; }

/* CULORI MOOD */
.mood-very_bad { background-color: var(--mood-very_bad); color: white; }
.mood-bad { background-color: var(--mood-bad); color: white; }
.mood-neutral { background-color: var(--mood-neutral); color: white; }
.mood-good { background-color: var(--mood-good); color: white; }
.mood-very_good { background-color: var(--mood-very_good); color: white; }

/* FOOTER & BUTOANE */
.mood-footer { text-align: center; color: var(--text-muted); margin-top: 1.5rem; }
.mood-actions {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-top: 1rem;
}
.button {
    padding: 0.6rem 1.2rem;
    border-radius: 8px;
    background: #e5e7eb;
    color: var(--text-primary);
    text-decoration: none;
    font-weight: 600;
    transition: background 0.3s ease;
}
.button:hover { background: #d1d5db; }
.button.primary { background: var(--primary); color: white; }
.button.primary:hover { background: #5fd1a0; }

/* DARK MODE */
@media (prefers-color-scheme: dark) {
    :root {
        --bg-card: #1f2937;
        --text-primary: #f4f7fb;
        --text-muted: #9ca3af;
    }
    .mood-card, .mood-row {
        background: #374151 !important;
        color: #f4f7fb;
    }
}
</style>
{% endblock %}



